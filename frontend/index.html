<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1C RAS Monitor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/css/style.css" />
  </head>
  <body class="dashboard">
    <div class="page">
      <header class="hero">
        <div class="container">
          <div class="hero-card">
            <div class="hero-brand">
              <div class="hero-logo">1C</div>
              <div class="hero-copy">
                <p class="hero-eyebrow">RAS Dashboard</p>
                <h1 class="hero-title">Мониторинг кластера 1С:Предприятие</h1>
                <p class="hero-subtitle">
                  Современная панель управления для контроля доступности RAS и рабочих процессов.
                </p>
              </div>
            </div>
            <div class="hero-status">
              <div class="status-pill">
                <span class="status-label">RAS адрес</span>
                <span id="ras-address" class="status-value">—</span>
              </div>
              <div class="status-controls">
                <label class="switch">
                  <input type="checkbox" id="auto-refresh-toggle" checked />
                  <span class="switch-track"></span>
                  <span class="switch-label">Автообновление</span>
                </label>
                <button id="refresh-button" class="btn btn-primary">Обновить</button>
              </div>
              <span id="last-updated" class="status-muted">Данные не загружены</span>
            </div>
          </div>
          <div class="metrics-rail">
            <article class="metric-card">
              <span class="metric-label">Информационные базы</span>
              <span id="metric-infobases" class="metric-value">—</span>
            </article>
            <article class="metric-card">
              <span class="metric-label">Сеансы</span>
              <span id="metric-sessions" class="metric-value">—</span>
            </article>
            <article class="metric-card">
              <span class="metric-label">Соединения</span>
              <span id="metric-connections" class="metric-value">—</span>
            </article>
            <article class="metric-card">
              <span class="metric-label">Рабочие процессы</span>
              <span id="metric-processes" class="metric-value">—</span>
            </article>
            <article class="metric-card">
              <span class="metric-label">Блокировки</span>
              <span id="metric-locks" class="metric-value">—</span>
            </article>
          </div>
        </div>
      </header>

      <main class="main">
        <div class="container">
          <div class="content-shell stack">
            <section class="panel panel--data">
              <div class="panel-header panel-header--data">
                <div class="panel-heading">
                  <p class="panel-eyebrow">Локальный кластер</p>
                  <h2 id="cluster-title">Кластер не определен</h2>
                </div>
                <span id="cluster-uuid" class="badge badge--light">—</span>
              </div>
              <div class="panel-body panel-body--data">
                <div class="cluster-grid">
                  <article class="cluster-card">
                    <h3 class="cluster-card__title">Данные кластера</h3>
                    <table class="cluster-overview">
                      <thead>
                        <tr>
                          <th>Сервер</th>
                          <th>Порт</th>
                          <th>Балансировка</th>
                          <th>Рабочие процессы</th>
                          <th>Сеансы</th>
                          <th>Соединения</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td id="cluster-host">—</td>
                          <td id="cluster-port">—</td>
                          <td id="cluster-mode">—</td>
                          <td id="cluster-processes">—</td>
                          <td id="cluster-sessions">—</td>
                          <td id="cluster-connections">—</td>
                        </tr>
                      </tbody>
                    </table>
                  </article>
                  <article class="cluster-card">
                    <h3 class="cluster-card__title">Процессы кластера</h3>
                    <div class="table-wrapper table-wrapper--flush">
                      <table class="data-table" id="processes-table"></table>
                    </div>
                  </article>
                </div>

                <div class="tabset">
                  <div class="tablist" role="tablist" aria-label="Разделы данных">
                    <button class="tab-button is-active" role="tab" aria-selected="true" data-tab="infobases">
                      Информационные базы
                    </button>
                    <button class="tab-button" role="tab" aria-selected="false" data-tab="sessions">
                      Сеансы
                    </button>
                    <button class="tab-button" role="tab" aria-selected="false" data-tab="connections">
                      Соединения
                    </button>
                    <button class="tab-button" role="tab" aria-selected="false" data-tab="processes">
                      Рабочие процессы
                    </button>
                    <button class="tab-button" role="tab" aria-selected="false" data-tab="locks">
                      Блокировки
                    </button>
                  </div>
                  <div class="tab-panels">
                    <div class="tab-panel is-active" role="tabpanel" data-tab-panel="infobases">
                      <div class="table-wrapper">
                        <table class="data-table" id="infobases-table"></table>
                      </div>
                    </div>
                    <div class="tab-panel" role="tabpanel" data-tab-panel="sessions" hidden>
                      <div class="table-wrapper">
                        <table class="data-table" id="sessions-table"></table>
                      </div>
                    </div>
                    <div class="tab-panel" role="tabpanel" data-tab-panel="connections" hidden>
                      <div class="table-wrapper">
                        <table class="data-table" id="connections-table"></table>
                      </div>
                    </div>
                    <div class="tab-panel" role="tabpanel" data-tab-panel="processes" hidden>
                      <div class="table-wrapper">
                        <table class="data-table" id="processes-tab-table"></table>
                      </div>
                    </div>
                    <div class="tab-panel" role="tabpanel" data-tab-panel="locks" hidden>
                      <div class="table-wrapper">
                        <table class="data-table" id="locks-table"></table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </main>

      <footer class="page-footer">
        <div class="container footer-inner">
          <span>© 2025 FD Enterprise IT</span>
          <span>Порт сервиса: 8080</span>
        </div>
      </footer>
    </div>
    <script type="module" src="/static/js/app.js"></script>
  </body>
</html>
