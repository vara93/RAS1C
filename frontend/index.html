<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1C RAS Monitor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/static/css/style.css" />
  </head>
  <body class="dashboard">
    <div class="page">
      <header class="app-header">
        <div class="app-header__brand">
          <div class="brand-icon">1C</div>
          <div class="brand-copy">
            <p class="brand-eyebrow">RAS Observatory</p>
            <h1 class="brand-title">Мониторинг кластера 1С:Предприятие</h1>
            <p class="brand-subtitle">
              Контролируйте доступность RAS, рабочие процессы и лицензии в режиме реального времени.
            </p>
          </div>
        </div>
        <div class="app-header__status">
          <div class="status-block">
            <span class="status-label">RAS адрес</span>
            <span id="ras-address" class="status-value">—</span>
          </div>
          <div class="toolbar">
            <label class="switch">
              <input type="checkbox" id="auto-refresh-toggle" checked />
              <span class="switch-track"></span>
              <span class="switch-label">Автообновление</span>
            </label>
            <button id="refresh-button" class="btn btn-primary">Обновить</button>
          </div>
          <span id="last-updated" class="status-muted">Данные не загружены</span>
        </div>
      </header>
      <main class="page-main">
        <section class="cluster-card card">
          <div class="card__header">
            <div>
              <span class="card-eyebrow">Кластер</span>
              <div class="cluster-title">
                <h2 id="cluster-title">Кластер не определен</h2>
                <span id="cluster-uuid" class="cluster-pill">—</span>
              </div>
            </div>
            <div class="cluster-meta">
              <div>
                <span class="meta-label">Хост</span>
                <span id="cluster-host" class="meta-value">—</span>
              </div>
              <div>
                <span class="meta-label">Порт</span>
                <span id="cluster-port" class="meta-value">—</span>
              </div>
              <div>
                <span class="meta-label">Балансировка</span>
                <span id="cluster-mode" class="meta-value">—</span>
              </div>
              <div>
                <span class="meta-label">Рабочие процессы</span>
                <span id="cluster-processes" class="meta-value">—</span>
              </div>
            </div>
          </div>
          <div class="card__body">
            <div class="metrics-grid">
              <div class="metric">
                <span class="metric-label">Информационные базы</span>
                <span id="metric-infobases" class="metric-value">—</span>
              </div>
              <div class="metric">
                <span class="metric-label">Сеансы</span>
                <span id="metric-sessions" class="metric-value">—</span>
              </div>
              <div class="metric">
                <span class="metric-label">Соединения</span>
                <span id="metric-connections" class="metric-value">—</span>
              </div>
              <div class="metric">
                <span class="metric-label">Рабочие процессы</span>
                <span id="metric-processes" class="metric-value">—</span>
              </div>
              <div class="metric">
                <span class="metric-label">Блокировки</span>
                <span id="metric-locks" class="metric-value">—</span>
              </div>
              <div class="metric">
                <span class="metric-label">Лицензии</span>
                <span id="metric-licenses" class="metric-value">—</span>
              </div>
            </div>
          </div>
        </section>

        <section class="layout-columns">
          <article class="card card--stretch">
            <div class="card__header">
              <div>
                <span class="card-eyebrow">Выписка</span>
                <h2>Активные лицензии</h2>
              </div>
            </div>
            <div class="card__body card__body--list">
              <ul id="licenses-list" class="license-list"></ul>
            </div>
          </article>

          <article class="card card--stretch">
            <div class="card__header">
              <div>
                <span class="card-eyebrow">Инфраструктура</span>
                <h2>Процессы кластера</h2>
              </div>
            </div>
            <div class="card__body card__body--table">
              <div class="table-wrapper">
                <table class="data-table" id="processes-table"></table>
              </div>
            </div>
          </article>
        </section>

        <section class="layout-grid">
          <article class="card">
            <div class="card__header">
              <div>
                <span class="card-eyebrow">Базы данных</span>
                <h2>Информационные базы</h2>
              </div>
            </div>
            <div class="card__body card__body--table">
              <div class="table-wrapper">
                <table class="data-table" id="infobases-table"></table>
              </div>
            </div>
          </article>

          <article class="card">
            <div class="card__header">
              <div>
                <span class="card-eyebrow">Пользователи</span>
                <h2>Сеансы</h2>
              </div>
            </div>
            <div class="card__body card__body--table">
              <div class="table-wrapper">
                <table class="data-table" id="sessions-table"></table>
              </div>
            </div>
          </article>

          <article class="card">
            <div class="card__header">
              <div>
                <span class="card-eyebrow">Подключения</span>
                <h2>Соединения</h2>
              </div>
            </div>
            <div class="card__body card__body--table">
              <div class="table-wrapper">
                <table class="data-table" id="connections-table"></table>
              </div>
            </div>
          </article>

          <article class="card">
            <div class="card__header">
              <div>
                <span class="card-eyebrow">Диагностика</span>
                <h2>Блокировки</h2>
              </div>
            </div>
            <div class="card__body card__body--table">
              <div class="table-wrapper">
                <table class="data-table" id="locks-table"></table>
              </div>
            </div>
          </article>
        </section>
      </main>
      <footer class="page-footer">
        <span>© 2025 FD Enterprise IT</span>
        <span>Порт сервиса: 8080</span>
      </footer>
    </div>
    <script type="module" src="/static/js/app.js"></script>
  </body>
</html>
